{"ast":null,"code":"import _defineProperty from\"/Users/jocelynxu/Desktop/vaxalert/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/jocelynxu/Desktop/vaxalert/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/jocelynxu/Desktop/vaxalert/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/jocelynxu/Desktop/vaxalert/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/jocelynxu/Desktop/vaxalert/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/jocelynxu/Desktop/vaxalert/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/jocelynxu/Desktop/vaxalert/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import'./SMSForm.css';import'bootstrap/dist/css/bootstrap.min.css';import Button from'react-bootstrap/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SMSForm=/*#__PURE__*/function(_Component){_inherits(SMSForm,_Component);var _super=_createSuper(SMSForm);// constructor\nfunction SMSForm(props){var _this;_classCallCheck(this,SMSForm);_this=_super.call(this,props);_this.state={message:{to:'',body:''},submitting:false,error:false};// binding both method to the SMS forms object\n_this.onHandleChange=_this.onHandleChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}// gets information from the text area\n_createClass(SMSForm,[{key:\"onHandleChange\",value:function onHandleChange(event){var name=event.target.getAttribute('name');this.setState({message:_objectSpread(_objectSpread({},this.state.message),{},_defineProperty({},name,event.target.value))});}// when submit is clicked, use API\n// automatically PREVENT default\n},{key:\"onSubmit\",value:function onSubmit(event){var _this2=this;event.preventDefault();this.setState({submitting:true});fetch('/api/messages',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(this.state.message)}).then(function(res){return res.json();}).then(function(data){if(data.success){_this2.setState({error:false,submitting:false,message:{to:'',body:''}});}else{_this2.setState({error:true,submitting:false});}});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,className:this.state.error?'error sms-form':'sms-form',children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"to\",children:\"To:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",name:\"to\",id:\"to\"// set form field values using onHandleChange\n,value:this.state.message.to,onChange:this.onHandleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"body\",children:\"Body:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"body\",id:\"body\",value:this.state.message.body,onChange:this.onHandleChange})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"custom-btn\",disabled:this.state.submitting,children:\"Send message\"}),' ']});}}]);return SMSForm;}(Component);export default SMSForm;","map":{"version":3,"sources":["/Users/jocelynxu/Desktop/vaxalert/frontend/src/components/SMSForm.js"],"names":["React","Component","Button","SMSForm","props","state","message","to","body","submitting","error","onHandleChange","bind","onSubmit","event","name","target","getAttribute","setState","value","preventDefault","fetch","method","headers","JSON","stringify","then","res","json","data","success"],"mappings":"i4BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,eAAP,CACA,MAAO,sCAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,C,2FAEMC,CAAAA,O,kGACF;AACA,iBAAYC,KAAZ,CAAkB,yCACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,OAAO,CAAE,CACLC,EAAE,CAAE,EADC,CAELC,IAAI,CAAE,EAFD,CADA,CAKTC,UAAU,CAAE,KALH,CAMTC,KAAK,CAAE,KANE,CAAb,CAQA;AACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBC,IAApB,+BAAtB,CACA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcD,IAAd,+BAAhB,CAZc,aAajB,CAED;kDACA,wBAAeE,KAAf,CAAsB,CAClB,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaC,YAAb,CAA0B,MAA1B,CAAb,CACA,KAAKC,QAAL,CAAc,CACVZ,OAAO,gCAAM,KAAKD,KAAL,CAAWC,OAAjB,wBAA2BS,IAA3B,CAAkCD,KAAK,CAACE,MAAN,CAAaG,KAA/C,EADG,CAAd,EAGH,CAED;AACA;wBACA,kBAASL,KAAT,CAAgB,iBACZA,KAAK,CAACM,cAAN,GACA,KAAKF,QAAL,CAAc,CAACT,UAAU,CAAE,IAAb,CAAd,EACAY,KAAK,CAAC,eAAD,CAAkB,CACnBC,MAAM,CAAE,MADW,CAEnBC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFU,CAKnBf,IAAI,CAAEgB,IAAI,CAACC,SAAL,CAAe,KAAKpB,KAAL,CAAWC,OAA1B,CALa,CAAlB,CAAL,CAOKoB,IAPL,CAOU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EAPb,EAQKF,IARL,CAQU,SAAAG,IAAI,CAAI,CACV,GAAGA,IAAI,CAACC,OAAR,CAAiB,CACb,MAAI,CAACZ,QAAL,CAAc,CACVR,KAAK,CAAE,KADG,CAEVD,UAAU,CAAE,KAFF,CAGVH,OAAO,CAAE,CACLC,EAAE,CAAE,EADC,CAELC,IAAI,CAAE,EAFD,CAHC,CAAd,EAQH,CATD,IAUK,CACD,MAAI,CAACU,QAAL,CAAc,CACVR,KAAK,CAAC,IADI,CAEVD,UAAU,CAAE,KAFF,CAAd,EAIH,CACJ,CAzBL,EA0BH,C,sBAED,iBAAS,CACL,mBACI,cACI,QAAQ,CAAI,KAAKI,QADrB,CAEI,SAAS,CAAI,KAAKR,KAAL,CAAWK,KAAX,CAAmB,gBAAnB,CAAsC,UAFvD,wBAII,oCACI,cAAO,OAAO,CAAC,IAAf,iBADJ,cAEI,cACI,IAAI,CAAC,KADT,CAEI,IAAI,CAAC,IAFT,CAGI,EAAE,CAAC,IACH;AAJJ,CAKI,KAAK,CAAE,KAAKL,KAAL,CAAWC,OAAX,CAAmBC,EAL9B,CAMI,QAAQ,CAAE,KAAKI,cANnB,EAFJ,GAJJ,cAeI,oCACI,cAAO,OAAO,CAAC,MAAf,mBADJ,cAEI,iBACI,IAAI,CAAC,MADT,CAEI,EAAE,CAAC,MAFP,CAGI,KAAK,CAAE,KAAKN,KAAL,CAAWC,OAAX,CAAmBE,IAH9B,CAII,QAAQ,CAAE,KAAKG,cAJnB,EAFJ,GAfJ,cAwBI,KAAC,MAAD,EAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,YAAhC,CAA6C,QAAQ,CAAE,KAAKN,KAAL,CAAWI,UAAlE,0BAxBJ,CA0Bc,GA1Bd,GADJ,CA8BH,C,qBAzFiBR,S,EA6FtB,cAAeE,CAAAA,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport './SMSForm.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Button from 'react-bootstrap/Button';\n\nclass SMSForm extends Component {\n    // constructor\n    constructor(props){\n        super(props);\n        this.state = {\n            message: {\n                to: '',\n                body: ''\n            },\n            submitting: false,\n            error: false\n        };\n        // binding both method to the SMS forms object\n        this.onHandleChange = this.onHandleChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    // gets information from the text area\n    onHandleChange(event) {\n        const name = event.target.getAttribute('name');\n        this.setState({\n            message: {...this.state.message, [name]: event.target.value}\n        });\n    }\n\n    // when submit is clicked, use API\n    // automatically PREVENT default\n    onSubmit(event) {\n        event.preventDefault();\n        this.setState({submitting: true});\n        fetch('/api/messages', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(this.state.message)\n        })\n            .then(res => res.json())\n            .then(data => {\n                if(data.success) {\n                    this.setState({\n                        error: false,\n                        submitting: false,\n                        message: {\n                            to: '',\n                            body: ''\n                        }\n                    });\n                }\n                else {\n                    this.setState({\n                        error:true,\n                        submitting: false\n                    });\n                }\n            });\n    }\n    \n    render() {\n        return (\n            <form\n                onSubmit = {this.onSubmit}\n                className = {this.state.error ? 'error sms-form' : 'sms-form'}\n            >\n                <div>\n                    <label htmlFor=\"to\">To:</label>\n                    <input\n                        type=\"tel\"\n                        name=\"to\"\n                        id=\"to\"\n                        // set form field values using onHandleChange\n                        value={this.state.message.to}\n                        onChange={this.onHandleChange}\n                    />\n                </div>\n                <div>\n                    <label htmlFor=\"body\">Body:</label>\n                    <textarea \n                        name=\"body\" \n                        id=\"body\"\n                        value={this.state.message.body}\n                        onChange={this.onHandleChange}\n                    />\n                </div>\n                <Button type=\"submit\" className=\"custom-btn\" disabled={this.state.submitting}>\n                    Send message\n                </Button>{' '}\n            </form>\n        );\n    }\n    \n}\n\nexport default SMSForm;\n"]},"metadata":{},"sourceType":"module"}